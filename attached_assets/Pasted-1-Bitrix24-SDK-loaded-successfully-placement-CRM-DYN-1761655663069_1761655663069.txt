1. –ß—Ç–æ —Å–µ–π—á–∞—Å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —Ñ–∞–∫—Ç—É

–ü–æ –ª–æ–≥–∞–º:

‚úÖ Bitrix24 SDK loaded successfully
placement: "CRM_DYNAMIC_176_DETAIL_TAB"
options.ID: "303"
‚úÖ Found entityId ... 303
üìä Final values - entityId: 303 entityTypeId: null
üîç Router - current location: /install
üîç Router - window.location: https://travel-group-manager-ndt72.replit.app/install?DOMAIN=...


–¢–æ –µ—Å—Ç—å:

Bitrix24 –æ—Ç–∫—Ä—ã–ª —Ç–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏ —Å–º–∞—Ä—Ç-–ø—Ä–æ—Ü–µ—Å—Å–∞ (placement CRM_DYNAMIC_176_DETAIL_TAB).

–û–Ω –ø–µ—Ä–µ–¥–∞–ª —Ç–µ–±–µ ID —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–º–∞—Ä—Ç-–ø—Ä–æ—Ü–µ—Å—Å–∞: 303. –í—Å—ë –æ–∫.

–¢–≤–æ–π —Ñ—Ä–æ–Ω—Ç–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–µ–π—á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É /install (!!!), –∞ –Ω–µ —Ä–∞–±–æ—á—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–ò–º–µ–Ω–Ω–æ —ç—Ç–æ ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –æ—Å—Ç–∞–≤—à–∞—è—Å—è –ø—Ä–æ–±–ª–µ–º–∞.

–ú—ã –±–æ–ª—å—à–µ –Ω–µ –≤–∏–¥–∏–º –≤—ã–∑–æ–≤–æ–≤ placement.bind, –Ω–æ —Å—É–¥—è –ø–æ —Ç–æ–º—É, —á—Ç–æ —Ä–æ—É—Ç —Å–µ–π—á–∞—Å /install, –æ—á–µ–Ω—å –≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç /install –≤—Å—ë –µ—â—ë –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ –≤–æ–æ–±—â–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∫–∞–∫ "—Ä–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏". –¢–æ –µ—Å—Ç—å Bitrix24 —Å–µ–π—á–∞—Å –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–±–æ–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å", –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "—É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω".

–≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤–æ–ø—Ä–æ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –Ω–æ—Ä–º.

2. –ü–æ—á–µ–º—É –º—ã –Ω–µ —Ö–æ—Ç–∏–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å /install –≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏

–õ–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–æ–π:

/install

–≠—Ç–æ —Ä–µ–∂–∏–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π, –≥–¥–µ –º—ã –¥–µ–ª–∞–µ–º placement.bind, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ø—Ä–∏–≤—è–∑–∞—Ç—å –≤–∫–ª–∞–¥–∫—É", –≤–æ–∑–º–æ–∂–Ω–æ –ª–æ–≥–∏—Ä—É–µ–º Debug.

–ï–≥–æ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

/app (–∏–ª–∏ /groups, /main, –∫–∞–∫ —Ç—ã –Ω–∞–∑–æ–≤—ë—à—å)

–≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏".

–ó–¥–µ—Å—å —Ç—ã —á–∏—Ç–∞–µ—à—å entityId (303), –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å —Ç—É—Ä–∏—Å—Ç–æ–≤, –≥—Ä—É–ø–ø—ã –∏ —Ç.–¥.

–≠—Ç–æ —Ç–æ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –≥—Ä—É–∑–∏—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–º–∞—Ä—Ç-–ø—Ä–æ—Ü–µ—Å—Å–∞.

–°–µ–π—á–∞—Å –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –≤ iframe –≥—Ä—É–∑–∏—Ç—Å—è –∏–º–µ–Ω–Ω–æ /install:

current location: /install
window.location.pathname: '/install'


=> –ó–Ω–∞—á–∏—Ç handler –≤ Bitrix24 –¥–ª—è placement –≤—Å—ë –µ—â—ë —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ /install (–∏–ª–∏ —Ç–≤–æ–π Router –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ /install).

–¢–æ –µ—Å—Ç—å —Ç—ã —É–∂–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –≤ –±–æ—é, –ø—Ä–æ—Å—Ç–æ —Å—Ç–æ–∏—à—å –Ω–µ –Ω–∞ —Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

3. –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å
–í–∞—Ä–∏–∞–Ω—Ç A. –°–∞–º—ã–π –ø—Ä—è–º–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π

–°–¥–µ–ª–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—É—é –±–æ–µ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞–ø—Ä–∏–º–µ—Ä /app –∏–ª–∏ /groups.

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç placement.bind, –∞ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç:

BX24.placement.info ‚Üí entityId

BX24.getAuth() ‚Üí domain, token

–∏ –¥–∞–ª—å—à–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–≤–æ–π UI.

–ü–æ–º–µ–Ω—è—Ç—å handler —É placement –≤ Bitrix24 —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω —É–∫–∞–∑—ã–≤–∞–ª –Ω–∞ https://.../app (–∞ –Ω–µ –Ω–∞ /install).

–ß—Ç–æ —ç—Ç–æ –¥–∞—Å—Ç:

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∫–ª–∞–¥–∫—É "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏" –≤ —Å–º–∞—Ä—Ç-–ø—Ä–æ—Ü–µ—Å—Å–µ, Bitrix24 –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ iframe —Å—Ä–∞–∑—É /app.

/app = –ø—Ä–æ–¥ –ª–æ–≥–∏–∫–∞.

/install –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è (–∞–¥–º–∏–Ω–∞), —á—Ç–æ–±—ã –≤ —Å–ª—É—á–∞–µ —á–µ–≥–æ –ø–µ—Ä–µ-—Ä–µ–≥–∞—Ç—å placement –∏–ª–∏ –æ—Ç–ª–∞–¥–∏—Ç—å—Å—è.